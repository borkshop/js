<!doctype html>
<html><head>
  <title>Tarot Demo</title>
  <style>

  /* generic card things */
  .card {
    perspective: 1000px;
    perspective-origin: center;

    position: relative;
    width: 100%;
    height: 100%;
    transition: transform 0.4s; /* TODO wat */
    transform-style: preserve-3d;
    /* transform-origin: center; */
  }

  .card .card-front,
  .card .card-back {
    position: absolute;
    width: 100%;
    height: 100%;
    backface-visibility: hidden;
  }

  .card .card-back { transform: rotateY(180deg); }

  .card {
    --flip: 0deg; /* cards default to flipped face down 180deg to turn them up */
    --spin: 0deg; /* 180deg for a reversal; 90deg or 270deg to cross */

    transform: rotateY(calc(180deg + var(--flip))) rotateZ(calc(0deg + var(--spin)));
  }

  /* deck specifics */

  .card.rws,
  .card.rws img {
    width: 300px;
    height: 517px;
  }

  </style>
</head><body>

<script>

const cardBack = 'www.sacred-texts.com/tarot/pkt/img/verso.jpg';
const colorBase = 'www.sacred-texts.com/tarot/pkt/img';
const bwBase = 'www.sacred-texts.com/tarot/pkt/tn';
const minorTitles = [
  'Ace', 'Two', 'Three', 'Four', 'Five',
  'Six', 'Seven', 'Eight', 'Nine', 'Ten',
  'Page', 'Knight', 'Queen', 'King',
];
const smithCards = [
  {id: 'ar00', title: 'The Fool'},
  {id: 'ar01', title: 'The Magician'},
  {id: 'ar02', title: 'The High Priestess'},
  {id: 'ar03', title: 'The Empress'},
  {id: 'ar04', title: 'The Emperor'},
  {id: 'ar05', title: 'The Hierophant'},
  {id: 'ar06', title: 'The Lovers'},
  {id: 'ar07', title: 'The Chariot'},
  {id: 'ar08', title: 'Strength'},
  {id: 'ar09', title: 'The Hermit'},
  {id: 'ar10', title: 'Wheel of Fortune'},
  {id: 'ar11', title: 'Justice'},
  {id: 'ar12', title: 'The Hanged Man'},
  {id: 'ar13', title: 'Death'},
  {id: 'ar14', title: 'Temperance'},
  {id: 'ar15', title: 'The Devil'},
  {id: 'ar16', title: 'The Tower'},
  {id: 'ar17', title: 'The Star'},
  {id: 'ar18', title: 'The Moon'},
  {id: 'ar19', title: 'The Sun'},
  {id: 'ar20', title: 'Judgement'},
  {id: 'ar21', title: 'The World'},
].concat(
  [
    'cuac', 'cu02', 'cu03', 'cu04', 'cu05',
    'cu06', 'cu07', 'cu08', 'cu09', 'cu10',
    'cupa', 'cukn', 'cuqu', 'cuki',
  ].map((id, i) => ({id, title: `${minorTitles[i]} of Cups`})),
  [
    'peac', 'pe02', 'pe03', 'pe04', 'pe05',
    'pe06', 'pe07', 'pe08', 'pe09', 'pe10',
    'pepa', 'pekn', 'pequ', 'peki',
  ].map((id, i) => ({id, title: `${minorTitles[i]} of Pentacles`})),
  [
    'swac', 'sw02', 'sw03', 'sw04', 'sw05',
    'sw06', 'sw07', 'sw08', 'sw09', 'sw10',
    'swpa', 'swkn', 'swqu', 'swki',
  ].map((id, i) => ({id, title: `${minorTitles[i]} of Swords`})),
  [
    'waac', 'wa02', 'wa03', 'wa04', 'wa05',
    'wa06', 'wa07', 'wa08', 'wa09', 'wa10',
    'wapa', 'wakn', 'waqu', 'waki',
  ].map((id, i) => ({id, title: `${minorTitles[i]} of Cups`})),
);

for (const {id, title} of smithCards) document.write(`
  <div class="card rws" style="float: left">
    <img class="card-front" src="${colorBase}/${id}.jpg" data-title="${title}">
    <img class="card-back" src="${cardBack}">
  </div>
`);

document.body.addEventListener('click', ({target}) => {
  for (let el=target; el; el=el.parentNode)
    if (el.classList?.contains('card')) {
      el.style.setProperty('--flip', el.style.getPropertyValue('--flip') ? '' : '180deg');
      break;
    }
});

</script>

</body></html>
<!--

# TODO

- riffle
- cut
- spreading
- draw
- flip stack
- stacks

# WIP

# Done

- let cards be flipped
- scraped https://www.sacred-texts.com/tarot/xr/index.htm
- sorted out basic card physics

-->
