<!doctype html>
<html><head>
  <title>Tarot Demo</title>
  <link rel="stylesheet" href="index.css">
</head><body>

<script type="module">

import {
  smithDeck,
  buildCards,
} from './index.js';

function root(el, where) {
  let last = null;
  for (; el; el=el.parentNode)
    if (el && where(el)) last = el;
  return last;
}

function onclick({target}) {
  const cardEl = root(target, el => el.classList?.contains('card'));
  if (cardEl) {
    const style = getComputedStyle(cardEl);
    const value = style.getPropertyValue('--flip')?.trim();
    cardEl.style.setProperty('--flip', value == '180deg' ? '0deg' : '180deg');
  }
}

window.addEventListener('DOMContentLoaded', () => {
  const contEl = document.body;
  contEl.addEventListener('click', onclick);
  contEl.innerHTML = buildCards(smithDeck);
});

</script>

</body></html>
<!--

# 2021-04-02

## TODO

- mixing
- spreading
- riffle
- cut
- draw

## WIP

- how to stack and flip

## Done

- broke out index.{css and js}

# 2021-04-01

- pile cards up initially

# 2021-03-31

- minor cleanups and refactors while exploring interaction side paths
- experimented with a stack-based acceptor/invoker abstraction, which may still
  be worthwhile, but discovered that z-ordering doesn't invert by rotateY
  transform, so having formal piles of cards may not be useful
- prototyped a click-menu system, but holding it back until more than one
  interaction warrants it

# 2021-03-30

- let cards be flipped
- scraped https://www.sacred-texts.com/tarot/xr/index.htm
- sorted out basic card physics

-->
